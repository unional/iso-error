# https://github.com/googleapis/googleapis/blob/master/google/rpc/context/attribute_context.proto
components:
  schemas:
    google.rpc.context.AttributeContext:
      type: object
      properties:
        origin:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Peer"
        source:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Peer"
        destination:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Peer"
        request:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Request"
        response:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Response"
        resource:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Resource"
        api:
          $ref: "#/components/schemas/google.rpc.context.AttributeContext.Api"
        extensions:
          type: array
    google.rpc.context.AttributeContext.Peer:
      type: object
      properties:
        ip:
          type: string
        port:
          type: number
        labels:
          type: object
          additionalProperties:
            type: string
        principal:
          type: string
        region_code:
          type: string
    google.rpc.context.AttributeContext.Api:
      type: object
      properties:
        service:
          type: string
        operation:
          type: string
        protocol:
          type: string
        version:
          type: string
    google.rpc.context.AttributeContext.Auth:
      type: object
      properties:
        principal:
          type: string
        audiences:
          type: array
          items:
            type: string
        presenter:
          type: string
        claims:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Struct
        access_levels:
          type: array
          items:
            type: string
    google.rpc.context.AttributeContext.Request:
      type: object
      properties:
        id:
          type: string
        method:
          type: string
        headers:
          type: object
          additionalProperties:
            type: string
        path:
          type: string
        host:
          type: string
        scheme:
          type: string
        query:
          type: string
        time:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Timestamp
        size:
          type: number
        protocol:
          type: string
        reason:
          type: string
        auth:
          type: "#/components/schemas/google.rpc.context.AttributeContext.Auth"
    google.rpc.context.AttributeContext.Response:
      type: object
      properties:
        code:
          type: number
        size:
          type: number
        headers:
          type: object
          additionalProperties:
            type: string
        time:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Timestamp
        backend_latency:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Duration
    google.rpc.context.AttributeContext.Resource:
      type: object
      properties:
        service:
          type: string
        name:
          type: string
        type:
          type: string
        lables:
          type: object
          additionalProperties:
            type: string
        uid:
          type: string
        annotations:
          type: object
          additionalProperties:
            type: string
        display_name:
          type: string
        create_time:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Timestamp
        update_time:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Timestamp
        delete_time:
          $ref: google.protobuf.yml#/components/schemas/google.protobuf.Timestamp
        etag:
          type: string
        location:
          type: string
